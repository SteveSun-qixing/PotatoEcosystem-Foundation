# ZIP处理器 - 需求文档

## 模块定位

ZIP处理器是公共基础层的文件处理组件,为整个生态提供ZIP压缩包的创建、解析、读写能力。薯片生态的.card和.box文件本质都是ZIP压缩包,这个模块是文件系统的基础。

## 功能需求

支持创建零压缩率的ZIP文件,文件内容不压缩直接打包。支持添加文件到ZIP包,支持添加文件夹,递归添加文件夹中的所有内容。

支持解压ZIP文件,提取所有文件到指定目录。支持读取ZIP包内的文件列表,不解压只列出文件名和元数据。支持读取ZIP包内的单个文件内容,不需要解压整个包。

支持ZIP包的增量更新,添加、删除、修改包内的文件,不需要重新创建整个包。支持ZIP包的流式处理,边读取边解析,不需要一次性加载整个包到内存。

## 接口需求

提供创建ZIP的接口,传入文件列表和输出路径。提供解压ZIP的接口,传入ZIP路径和输出目录。提供读取文件列表的接口,返回包内所有文件的元数据。提供读取单个文件的接口,传入文件路径,返回文件内容。

## 非功能需求

处理要快速,创建和解压ZIP不阻塞界面。支持大文件,处理上GB的ZIP包。内存占用合理,使用流式处理避免占用过多内存。
