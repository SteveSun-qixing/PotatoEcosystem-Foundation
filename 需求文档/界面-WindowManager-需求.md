# 窗口管理器 - 需求文档

## 模块定位

窗口管理器是公共基础层的界面组件,负责窗口的创建、管理和操作。它处理窗口的层级、位置、大小、状态,提供窗口相关的所有功能。

## 功能需求

支持创建窗口,设置窗口标题、大小、位置、是否可调整大小。支持显示隐藏窗口,最小化最大化还原窗口,关闭窗口。

支持窗口拖动,拖动标题栏移动窗口。支持窗口调整大小,拖动边框或角落调整。支持窗口层级管理,窗口有z-index,激活的窗口在最前面。

支持窗口焦点管理,同时只有一个窗口有焦点,点击窗口获得焦点。支持窗口状态持久化,记住窗口位置和大小,下次打开恢复状态。

支持多显示器,窗口可以在不同显示器之间移动,正确处理显示器的缩放比例和分辨率差异。

支持窗口快照,保存窗口的完整状态,包括位置、大小、内容,恢复时完全还原。支持窗口分屏,窗口可以吸附到屏幕边缘,实现左右分屏或四分屏。

## 接口需求

提供创建窗口的接口,返回窗口ID。提供控制窗口的接口,显示、隐藏、移动、调整大小、最小化、最大化、关闭。提供查询窗口状态的接口,返回窗口位置、大小、状态。提供监听窗口事件的接口,事件包括移动、调整大小、焦点变化、关闭。

## 非功能需求

窗口操作要流畅,拖动和调整大小跟手性好,延迟低。窗口渲染要高效,多个窗口同时显示不卡顿。窗口状态持久化要可靠,应用重启后准确恢复。
