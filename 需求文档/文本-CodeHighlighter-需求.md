# 代码高亮器 - 需求文档

## 模块定位

代码高亮器是公共基础层的文本处理组件,为整个生态提供代码语法高亮能力。代码块卡片、Markdown卡片中的代码块等需要显示代码的场景通过这个模块实现。它将纯文本代码转换为带语法高亮的HTML,提高代码可读性。

## 功能需求

支持常见编程语言的语法高亮,包括JavaScript、TypeScript、Python、Java、C++、Go、Rust、HTML、CSS、SQL等。支持配置文件格式,包括JSON、YAML、XML、TOML等。

支持多种高亮主题,包括亮色主题和暗色主题,匹配应用的整体风格。主题包含关键字、字符串、注释、函数名等不同元素的颜色定义。

支持显示行号,每行代码前显示行号,方便引用和定位。支持高亮特定行,突出显示重要的代码行。支持代码折叠,折叠长代码块,点击展开查看。

提供复制代码按钮,点击复制整个代码块到剪贴板。支持代码换行控制,长行可以自动换行或横向滚动。

## 接口需求

提供高亮代码的接口,传入代码文本和语言标识,返回高亮后的HTML。提供设置主题的接口,切换不同的高亮主题。提供配置选项,包括是否显示行号、是否自动换行等。

## 非功能需求

高亮要快速,代码块立即高亮显示。支持的语言要全面,覆盖常用编程语言。高亮要准确,正确识别语法元素,颜色区分明显。
